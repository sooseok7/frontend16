{"ast":null,"code":"'use strict';\n\nvar isObject = require('isobject');\n\nvar Emitter = require('component-emitter');\n\nvar visit = require('collection-visit');\n\nvar toPath = require('to-object-path');\n\nvar union = require('union-value');\n\nvar del = require('unset-value');\n\nvar get = require('get-value');\n\nvar has = require('has-value');\n\nvar set = require('set-value');\n/**\r\n * Create a `Cache` constructor that when instantiated will\r\n * store values on the given `prop`.\r\n *\r\n * ```js\r\n * var Cache = require('cache-base').namespace('data');\r\n * var cache = new Cache();\r\n *\r\n * cache.set('foo', 'bar');\r\n * //=> {data: {foo: 'bar'}}\r\n * ```\r\n * @param {String} `prop` The property name to use for storing values.\r\n * @return {Function} Returns a custom `Cache` constructor\r\n * @api public\r\n */\n\n\nfunction namespace(prop) {\n  /**\r\n   * Create a new `Cache`. Internally the `Cache` constructor is created using\r\n   * the `namespace` function, with `cache` defined as the storage object.\r\n   *\r\n   * ```js\r\n   * var app = new Cache();\r\n   * ```\r\n   * @param {Object} `cache` Optionally pass an object to initialize with.\r\n   * @constructor\r\n   * @api public\r\n   */\n  function Cache(cache) {\n    if (prop) {\n      this[prop] = {};\n    }\n\n    if (cache) {\n      this.set(cache);\n    }\n  }\n  /**\r\n   * Inherit Emitter\r\n   */\n\n\n  Emitter(Cache.prototype);\n  /**\r\n   * Assign `value` to `key`. Also emits `set` with\r\n   * the key and value.\r\n   *\r\n   * ```js\r\n   * app.on('set', function(key, val) {\r\n   *   // do something when `set` is emitted\r\n   * });\r\n   *\r\n   * app.set(key, value);\r\n   *\r\n   * // also takes an object or array\r\n   * app.set({name: 'Halle'});\r\n   * app.set([{foo: 'bar'}, {baz: 'quux'}]);\r\n   * console.log(app);\r\n   * //=> {name: 'Halle', foo: 'bar', baz: 'quux'}\r\n   * ```\r\n   *\r\n   * @name .set\r\n   * @emits `set` with `key` and `value` as arguments.\r\n   * @param {String} `key`\r\n   * @param {any} `value`\r\n   * @return {Object} Returns the instance for chaining.\r\n   * @api public\r\n   */\n\n  Cache.prototype.set = function (key, val) {\n    if (Array.isArray(key) && arguments.length === 2) {\n      key = toPath(key);\n    }\n\n    if (isObject(key) || Array.isArray(key)) {\n      this.visit('set', key);\n    } else {\n      set(prop ? this[prop] : this, key, val);\n      this.emit('set', key, val);\n    }\n\n    return this;\n  };\n  /**\r\n   * Union `array` to `key`. Also emits `set` with\r\n   * the key and value.\r\n   *\r\n   * ```js\r\n   * app.union('a.b', ['foo']);\r\n   * app.union('a.b', ['bar']);\r\n   * console.log(app.get('a'));\r\n   * //=> {b: ['foo', 'bar']}\r\n   * ```\r\n   * @name .union\r\n   * @param {String} `key`\r\n   * @param {any} `value`\r\n   * @return {Object} Returns the instance for chaining.\r\n   * @api public\r\n   */\n\n\n  Cache.prototype.union = function (key, val) {\n    if (Array.isArray(key) && arguments.length === 2) {\n      key = toPath(key);\n    }\n\n    var ctx = prop ? this[prop] : this;\n    union(ctx, key, arrayify(val));\n    this.emit('union', val);\n    return this;\n  };\n  /**\r\n   * Return the value of `key`. Dot notation may be used\r\n   * to get [nested property values][get-value].\r\n   *\r\n   * ```js\r\n   * app.set('a.b.c', 'd');\r\n   * app.get('a.b');\r\n   * //=> {c: 'd'}\r\n   *\r\n   * app.get(['a', 'b']);\r\n   * //=> {c: 'd'}\r\n   * ```\r\n   *\r\n   * @name .get\r\n   * @emits `get` with `key` and `value` as arguments.\r\n   * @param {String} `key` The name of the property to get. Dot-notation may be used.\r\n   * @return {any} Returns the value of `key`\r\n   * @api public\r\n   */\n\n\n  Cache.prototype.get = function (key) {\n    key = toPath(arguments);\n    var ctx = prop ? this[prop] : this;\n    var val = get(ctx, key);\n    this.emit('get', key, val);\n    return val;\n  };\n  /**\r\n   * Return true if app has a stored value for `key`,\r\n   * false only if value is `undefined`.\r\n   *\r\n   * ```js\r\n   * app.set('foo', 'bar');\r\n   * app.has('foo');\r\n   * //=> true\r\n   * ```\r\n   *\r\n   * @name .has\r\n   * @emits `has` with `key` and true or false as arguments.\r\n   * @param {String} `key`\r\n   * @return {Boolean}\r\n   * @api public\r\n   */\n\n\n  Cache.prototype.has = function (key) {\n    key = toPath(arguments);\n    var ctx = prop ? this[prop] : this;\n    var val = get(ctx, key);\n    var has = typeof val !== 'undefined';\n    this.emit('has', key, has);\n    return has;\n  };\n  /**\r\n   * Delete one or more properties from the instance.\r\n   *\r\n   * ```js\r\n   * app.del(); // delete all\r\n   * // or\r\n   * app.del('foo');\r\n   * // or\r\n   * app.del(['foo', 'bar']);\r\n   * ```\r\n   * @name .del\r\n   * @emits `del` with the `key` as the only argument.\r\n   * @param {String|Array} `key` Property name or array of property names.\r\n   * @return {Object} Returns the instance for chaining.\r\n   * @api public\r\n   */\n\n\n  Cache.prototype.del = function (key) {\n    if (Array.isArray(key)) {\n      this.visit('del', key);\n    } else {\n      del(prop ? this[prop] : this, key);\n      this.emit('del', key);\n    }\n\n    return this;\n  };\n  /**\r\n   * Reset the entire cache to an empty object.\r\n   *\r\n   * ```js\r\n   * app.clear();\r\n   * ```\r\n   * @api public\r\n   */\n\n\n  Cache.prototype.clear = function () {\n    if (prop) {\n      this[prop] = {};\n    }\n  };\n  /**\r\n   * Visit `method` over the properties in the given object, or map\r\n   * visit over the object-elements in an array.\r\n   *\r\n   * @name .visit\r\n   * @param {String} `method` The name of the `base` method to call.\r\n   * @param {Object|Array} `val` The object or array to iterate over.\r\n   * @return {Object} Returns the instance for chaining.\r\n   * @api public\r\n   */\n\n\n  Cache.prototype.visit = function (method, val) {\n    visit(this, method, val);\n    return this;\n  };\n\n  return Cache;\n}\n/**\r\n * Cast val to an array\r\n */\n\n\nfunction arrayify(val) {\n  return val ? Array.isArray(val) ? val : [val] : [];\n}\n/**\r\n * Expose `Cache`\r\n */\n\n\nmodule.exports = namespace();\n/**\r\n * Expose `Cache.namespace`\r\n */\n\nmodule.exports.namespace = namespace;","map":{"version":3,"sources":["C:/frontend/node_modules/cache-base/index.js"],"names":["isObject","require","Emitter","visit","toPath","union","del","get","has","set","namespace","prop","Cache","cache","prototype","key","val","Array","isArray","arguments","length","emit","ctx","arrayify","clear","method","module","exports"],"mappings":"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","sourcesContent":["'use strict';\r\n\r\nvar isObject = require('isobject');\r\nvar Emitter = require('component-emitter');\r\nvar visit = require('collection-visit');\r\nvar toPath = require('to-object-path');\r\nvar union = require('union-value');\r\nvar del = require('unset-value');\r\nvar get = require('get-value');\r\nvar has = require('has-value');\r\nvar set = require('set-value');\r\n\r\n/**\r\n * Create a `Cache` constructor that when instantiated will\r\n * store values on the given `prop`.\r\n *\r\n * ```js\r\n * var Cache = require('cache-base').namespace('data');\r\n * var cache = new Cache();\r\n *\r\n * cache.set('foo', 'bar');\r\n * //=> {data: {foo: 'bar'}}\r\n * ```\r\n * @param {String} `prop` The property name to use for storing values.\r\n * @return {Function} Returns a custom `Cache` constructor\r\n * @api public\r\n */\r\n\r\nfunction namespace(prop) {\r\n\r\n  /**\r\n   * Create a new `Cache`. Internally the `Cache` constructor is created using\r\n   * the `namespace` function, with `cache` defined as the storage object.\r\n   *\r\n   * ```js\r\n   * var app = new Cache();\r\n   * ```\r\n   * @param {Object} `cache` Optionally pass an object to initialize with.\r\n   * @constructor\r\n   * @api public\r\n   */\r\n\r\n  function Cache(cache) {\r\n    if (prop) {\r\n      this[prop] = {};\r\n    }\r\n    if (cache) {\r\n      this.set(cache);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Inherit Emitter\r\n   */\r\n\r\n  Emitter(Cache.prototype);\r\n\r\n  /**\r\n   * Assign `value` to `key`. Also emits `set` with\r\n   * the key and value.\r\n   *\r\n   * ```js\r\n   * app.on('set', function(key, val) {\r\n   *   // do something when `set` is emitted\r\n   * });\r\n   *\r\n   * app.set(key, value);\r\n   *\r\n   * // also takes an object or array\r\n   * app.set({name: 'Halle'});\r\n   * app.set([{foo: 'bar'}, {baz: 'quux'}]);\r\n   * console.log(app);\r\n   * //=> {name: 'Halle', foo: 'bar', baz: 'quux'}\r\n   * ```\r\n   *\r\n   * @name .set\r\n   * @emits `set` with `key` and `value` as arguments.\r\n   * @param {String} `key`\r\n   * @param {any} `value`\r\n   * @return {Object} Returns the instance for chaining.\r\n   * @api public\r\n   */\r\n\r\n  Cache.prototype.set = function(key, val) {\r\n    if (Array.isArray(key) && arguments.length === 2) {\r\n      key = toPath(key);\r\n    }\r\n    if (isObject(key) || Array.isArray(key)) {\r\n      this.visit('set', key);\r\n    } else {\r\n      set(prop ? this[prop] : this, key, val);\r\n      this.emit('set', key, val);\r\n    }\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * Union `array` to `key`. Also emits `set` with\r\n   * the key and value.\r\n   *\r\n   * ```js\r\n   * app.union('a.b', ['foo']);\r\n   * app.union('a.b', ['bar']);\r\n   * console.log(app.get('a'));\r\n   * //=> {b: ['foo', 'bar']}\r\n   * ```\r\n   * @name .union\r\n   * @param {String} `key`\r\n   * @param {any} `value`\r\n   * @return {Object} Returns the instance for chaining.\r\n   * @api public\r\n   */\r\n\r\n  Cache.prototype.union = function(key, val) {\r\n    if (Array.isArray(key) && arguments.length === 2) {\r\n      key = toPath(key);\r\n    }\r\n    var ctx = prop ? this[prop] : this;\r\n    union(ctx, key, arrayify(val));\r\n    this.emit('union', val);\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * Return the value of `key`. Dot notation may be used\r\n   * to get [nested property values][get-value].\r\n   *\r\n   * ```js\r\n   * app.set('a.b.c', 'd');\r\n   * app.get('a.b');\r\n   * //=> {c: 'd'}\r\n   *\r\n   * app.get(['a', 'b']);\r\n   * //=> {c: 'd'}\r\n   * ```\r\n   *\r\n   * @name .get\r\n   * @emits `get` with `key` and `value` as arguments.\r\n   * @param {String} `key` The name of the property to get. Dot-notation may be used.\r\n   * @return {any} Returns the value of `key`\r\n   * @api public\r\n   */\r\n\r\n  Cache.prototype.get = function(key) {\r\n    key = toPath(arguments);\r\n\r\n    var ctx = prop ? this[prop] : this;\r\n    var val = get(ctx, key);\r\n\r\n    this.emit('get', key, val);\r\n    return val;\r\n  };\r\n\r\n  /**\r\n   * Return true if app has a stored value for `key`,\r\n   * false only if value is `undefined`.\r\n   *\r\n   * ```js\r\n   * app.set('foo', 'bar');\r\n   * app.has('foo');\r\n   * //=> true\r\n   * ```\r\n   *\r\n   * @name .has\r\n   * @emits `has` with `key` and true or false as arguments.\r\n   * @param {String} `key`\r\n   * @return {Boolean}\r\n   * @api public\r\n   */\r\n\r\n  Cache.prototype.has = function(key) {\r\n    key = toPath(arguments);\r\n\r\n    var ctx = prop ? this[prop] : this;\r\n    var val = get(ctx, key);\r\n\r\n    var has = typeof val !== 'undefined';\r\n    this.emit('has', key, has);\r\n    return has;\r\n  };\r\n\r\n  /**\r\n   * Delete one or more properties from the instance.\r\n   *\r\n   * ```js\r\n   * app.del(); // delete all\r\n   * // or\r\n   * app.del('foo');\r\n   * // or\r\n   * app.del(['foo', 'bar']);\r\n   * ```\r\n   * @name .del\r\n   * @emits `del` with the `key` as the only argument.\r\n   * @param {String|Array} `key` Property name or array of property names.\r\n   * @return {Object} Returns the instance for chaining.\r\n   * @api public\r\n   */\r\n\r\n  Cache.prototype.del = function(key) {\r\n    if (Array.isArray(key)) {\r\n      this.visit('del', key);\r\n    } else {\r\n      del(prop ? this[prop] : this, key);\r\n      this.emit('del', key);\r\n    }\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * Reset the entire cache to an empty object.\r\n   *\r\n   * ```js\r\n   * app.clear();\r\n   * ```\r\n   * @api public\r\n   */\r\n\r\n  Cache.prototype.clear = function() {\r\n    if (prop) {\r\n      this[prop] = {};\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Visit `method` over the properties in the given object, or map\r\n   * visit over the object-elements in an array.\r\n   *\r\n   * @name .visit\r\n   * @param {String} `method` The name of the `base` method to call.\r\n   * @param {Object|Array} `val` The object or array to iterate over.\r\n   * @return {Object} Returns the instance for chaining.\r\n   * @api public\r\n   */\r\n\r\n  Cache.prototype.visit = function(method, val) {\r\n    visit(this, method, val);\r\n    return this;\r\n  };\r\n\r\n  return Cache;\r\n}\r\n\r\n/**\r\n * Cast val to an array\r\n */\r\n\r\nfunction arrayify(val) {\r\n  return val ? (Array.isArray(val) ? val : [val]) : [];\r\n}\r\n\r\n/**\r\n * Expose `Cache`\r\n */\r\n\r\nmodule.exports = namespace();\r\n\r\n/**\r\n * Expose `Cache.namespace`\r\n */\r\n\r\nmodule.exports.namespace = namespace;\r\n"]},"metadata":{},"sourceType":"script"}