{"ast":null,"code":"var _jsxFileName = \"C:\\\\frontend\\\\src\\\\views\\\\examples\\\\BoardInput.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { Container, Button, Input } from \"reactstrap\";\nimport moment from 'moment'; // 안써도 자동으로 한국 시간을 불러온다. 명확하게 하기 위해 import\n\nimport 'moment/locale/ko';\nimport { useParams } from \"react-router-dom\";\nimport AuthenticationService from \"../../jwtlogin/AuthenticationService.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction BoardInput() {\n  _s();\n\n  let my = user;\n  const getLoggedInUserName = AuthenticationService.getLoggedInUserName();\n  const setupAxiosInterceptors = AuthenticationService.setupAxiosInterceptors();\n  const nowTime = moment().format('YYYY-MM-DD HH:mm:ss');\n  const {\n    mode\n  } = useParams();\n  const [Board, setBoard] = useState({\n    idx: null,\n    title: \"\",\n    content: \"\",\n    board_date: nowTime,\n    id: {\n      my\n    },\n    view: \"0\"\n  });\n  let pageHeader = /*#__PURE__*/React.createRef();\n  React.useEffect(() => {\n    if (mode != 'new') {\n      axios.get('/api/board/' + mode).then(function (response) {\n        //console.log(response)\n        setBoard(response.data);\n      }).catch(function (error) {//console.log(error);\n      });\n    }\n  }, []);\n\n  const f3 = async () => {\n    if (mode === 'new') {\n      //new\n      if (!Board.title || !Board.content) {\n        window.confirm(\"빈칸을 채워주세요.\");\n      } else axios.post('/api/board', Board).then(function (response) {\n        //console.log(response);\n        window.location.href = '../../boardread/' + response.data.idx;\n      }).catch(function (error) {//console.log(error);\n      });\n    } else {\n      //update        \n      if (!Board.title || !Board.content) {\n        window.confirm(\"빈칸을 채워주세요.\");\n      } else axios.put('/api/board/' + Board.idx, Board).then(function (response) {\n        window.location.href = '../../boardread/' + Board.idx;\n      }).catch(function (error) {//console.log(error);\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-header\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-header-image\",\n      style: {\n        backgroundImage: \"url(\" + require(\"assets/img/bg4.jpg\").default + \")\"\n      },\n      ref: pageHeader\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content-center\",\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"title\",\n          children: \"\\uC790\\uC720\\uAC8C\\uC2DC\\uD310\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 45\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: \"\\uC81C\\uBAA9...\",\n            type: \"text\",\n            name: \"title\",\n            class: \"form-control2\",\n            value: Board.title,\n            onChange: ({\n              target: {\n                value\n              }\n            }) => setBoard({\n              idx: Board.idx,\n              title: value,\n              content: Board.content,\n              board_date: Board.board_date,\n              id: Board.id,\n              view: Board.view\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: \"\\uB0B4\\uC6A9...\",\n            type: \"textarea\",\n            name: \"content\",\n            value: Board.content,\n            onChange: ({\n              target: {\n                value\n              }\n            }) => setBoard({\n              idx: Board.idx,\n              title: Board.title,\n              content: value,\n              board_date: Board.board_date,\n              id: Board.id,\n              view: Board.view\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"btn-viewboard\",\n          color: \"black\",\n          href: \"../board-page\",\n          size: \"5px\",\n          children: \"\\uBAA9\\uB85D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"btn-inputboard\",\n          color: \"black\" // href=\"\"\n          ,\n          onClick: f3,\n          size: \"5px\",\n          children: \"\\uB4F1\\uB85D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 1\n  }, this);\n}\n\n_s(BoardInput, \"FWv9Zbf/PjSB/1qJDFJEh2xZ4nQ=\", false, function () {\n  return [useParams];\n});\n\n_c = BoardInput;\nexport default BoardInput;\n\nvar _c;\n\n$RefreshReg$(_c, \"BoardInput\");","map":{"version":3,"sources":["C:/frontend/src/views/examples/BoardInput.js"],"names":["React","useState","axios","Container","Button","Input","moment","useParams","AuthenticationService","BoardInput","my","user","getLoggedInUserName","setupAxiosInterceptors","nowTime","format","mode","Board","setBoard","idx","title","content","board_date","id","view","pageHeader","createRef","useEffect","get","then","response","data","catch","error","f3","window","confirm","post","location","href","put","backgroundImage","require","default","target","value"],"mappings":"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","sourcesContent":["import React ,{useState}from \"react\"\r\nimport axios from \"axios\";\r\nimport {Container, Button, Input } from \"reactstrap\";\r\nimport moment from 'moment';\r\n// 안써도 자동으로 한국 시간을 불러온다. 명확하게 하기 위해 import\r\nimport 'moment/locale/ko';\r\nimport { useParams } from \"react-router-dom\";\r\nimport AuthenticationService from \"../../jwtlogin/AuthenticationService.js\";\r\nfunction BoardInput() {\r\n  let my=user;\r\nconst getLoggedInUserName=AuthenticationService.getLoggedInUserName()\r\nconst setupAxiosInterceptors=AuthenticationService.setupAxiosInterceptors();\r\nconst nowTime = moment().format('YYYY-MM-DD HH:mm:ss'); \r\n\r\nconst {mode} = useParams(); \r\n\r\n    const [Board, setBoard] = useState({\r\n      idx:null,\r\n         title: \"\",\r\n         content: \"\",\r\n         board_date: nowTime,\r\n         id: {my},        \r\n         view: \"0\"\r\n}\r\n      );\r\n   \r\n     let pageHeader = React.createRef();\r\n\r\n     React.useEffect(() => {\r\n       if(mode != 'new'){\r\n      axios.get('/api/board/'+mode)\r\n      .then(function (response) {\r\n        //console.log(response)\r\n          setBoard(response.data);\r\n    \r\n      })\r\n      .catch(function (error) {\r\n        //console.log(error);\r\n      });}\r\n\r\n    }, []);\r\n  \r\n     const f3 = async () => {\r\n       if(mode==='new'){ //new\r\n        if(!Board.title || !Board.content){\r\n        window.confirm(\"빈칸을 채워주세요.\");\r\n        }\r\n        else\r\n        axios.post('/api/board', Board)\r\n      .then(function (response) {\r\n        //console.log(response);\r\n        window.location.href ='../../boardread/'+response.data.idx\r\n      })\r\n      .catch(function (error) { \r\n        //console.log(error);\r\n      });\r\n    }else { //update        \r\n      if(!Board.title || !Board.content){\r\n      window.confirm(\"빈칸을 채워주세요.\");}\r\n      else\r\n      axios.put('/api/board/'+Board.idx, Board)\r\n      .then(function (response) {\r\n        window.location.href ='../../boardread/'+Board.idx\r\n      })\r\n      .catch(function (error) {\r\n        //console.log(error);\r\n      });\r\n    }\r\n\r\n      }\r\n\r\n\r\n    return(\r\n<div className=\"page-header\">\r\n        <div\r\n          className=\"page-header-image\"\r\n          style={{\r\n            backgroundImage:\r\n              \"url(\" + require(\"assets/img/bg4.jpg\").default + \")\",\r\n          }}\r\n          ref={pageHeader}\r\n        ></div>\r\n        <div className=\"content-center\">\r\n          <Container>\r\n            <h1 className=\"title\">자유게시판</h1><br/>\r\n            <h2><Input\r\n            placeholder=\"제목...\"\r\n            type=\"text\"\r\n            name=\"title\"\r\n            class=\"form-control2\"\r\n            value={Board.title}\r\n            onChange={({ target: { value } }) => \r\n             setBoard({\r\n               idx:Board.idx,\r\n                 title: value,\r\n                 content: Board.content,\r\n                 board_date: Board.board_date,\r\n                id: Board.id,        \r\n                view: Board.view\r\n        })\r\n \r\n    }\r\n\r\n            ></Input></h2>\r\n            \r\n            <h2><Input\r\n            placeholder=\"내용...\"\r\n            type=\"textarea\"\r\n            name=\"content\"\r\n            value={Board.content}\r\n            onChange={({ target: { value } }) => setBoard({\r\n              idx:Board.idx,\r\n                title: Board.title,\r\n                content: value,\r\n                board_date: Board.board_date,\r\n                id: Board.id,        \r\n                view: Board.view\r\n       })}\r\n            ></Input></h2>\r\n            <br/>\r\n            <Button\r\n            className=\"btn-viewboard\"\r\n            color=\"black\"\r\n            href=\"../board-page\"\r\n            size=\"5px\"\r\n            >\r\n                목록\r\n                </Button>\r\n            <Button\r\n            className=\"btn-inputboard\"\r\n            color=\"black\"\r\n            // href=\"\"\r\n            onClick={f3}\r\n            size=\"5px\"\r\n            >\r\n                등록\r\n                </Button>\r\n                \r\n          </Container>\r\n        </div>\r\n        \r\n      </div>\r\n\r\n    )\r\n}\r\n\r\nexport default BoardInput;"]},"metadata":{},"sourceType":"module"}