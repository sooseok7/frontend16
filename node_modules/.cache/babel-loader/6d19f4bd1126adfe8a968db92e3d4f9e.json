{"ast":null,"code":"var _jsxFileName = \"C:\\\\frontend16\\\\src\\\\views\\\\examples\\\\BoardRead.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { Container, Button, Input } from \"reactstrap\";\nimport moment from 'moment';\nimport DarkFooter from \"components/Footers/DarkFooter.js\"; // 안써도 자동으로 한국 시간을 불러온다. 명확하게 하기 위해 import\n\nimport 'moment/locale/ko';\nimport AuthenticationService from \"../../jwtlogin/AuthenticationService.js\";\nimport { useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction BoardRead() {\n  _s();\n\n  const setupAxiosInterceptors = AuthenticationService.setupAxiosInterceptors();\n  const {\n    num\n  } = useParams();\n  const nowTime = moment().format('YYYY-MM-DD HH:mm:ss');\n  const [Board, setBoard] = useState({\n    idx: \"\",\n    title: \"\",\n    content: \"\",\n    board_date: \"\",\n    id: \"\",\n    views: \"\"\n  });\n  const [Commentlist, setCommentList] = useState([]);\n  const [Comment, setComment] = useState({\n    title: \"\",\n    content: \"\",\n    comment_date: nowTime,\n    board_id: Board.id,\n    comment_id: \"test\",\n    board_no: Board.idx,\n    views: \"0\"\n  }); //let pageHeader = React.createRef();\n\n  React.useEffect(() => {\n    axios.get('/api/board/' + num).then(function (response) {\n      setBoard(response.data);\n    }).catch(function (error) {//console.log(error);\n    });\n    axios.get('/api/getCommentById/' + num).then(function (response) {\n      //console.log(response.data)\n      setCommentList(response.data); //console.log(Commentlist)\n    }).catch(function (error) {//console.log(error);\n    });\n    document.body.classList.add(\"boardread/:num\");\n    document.body.classList.add(\"sidebar-collapse\");\n    document.documentElement.classList.remove(\"nav-open\");\n    window.scrollTo(0, 0);\n    document.body.scrollTop = 0;\n    return function cleanup() {\n      document.body.classList.remove(\"boardread/:num\");\n      document.body.classList.remove(\"sidebar-collapse\");\n    };\n  }, []);\n\n  const f3 = async () => {\n    window.location.href = '../boardinput/' + Board.idx;\n  };\n\n  const f4 = async () => {\n    //console.log(Board);\n    //삭제/board/{no}\n    axios.delete('/api/board/' + num).then(function (response) {\n      window.location.href = '../board-page';\n    }).catch(function (error) {//console.log(error);\n    });\n  };\n\n  const f5 = async () => {\n    //console.log(Board); //createcomment\n    axios.post('/api/board/comment', Comment).then(function (response) {\n      window.location.href = '../../boardread/' + Board.idx;\n    }).catch(function (error) {//console.log(error);\n    });\n  };\n\n  function deletecomment(number) {\n    axios.delete('/api/board/comment/' + number).then(function (response) {\n      window.location.href = '../../boardread/' + Board.idx;\n    }).catch(function (error) {//console.log(error);\n    });\n  }\n\n  const commentarray = Commentlist.map(data => {\n    if (Commentlist.length != '0') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"list-reply\",\n        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n          style: {\n            color: \"white\"\n          },\n          children: [data.comment_id, \" \\xA0  \\xA0\", data.content, \"  \\xA0  \\xA0 \", data.comment_date, \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n            class: \"del-reply\",\n            onClick: () => deletecomment(data.idx),\n            children: \"\\uC0AD\\uC81C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 112\n          }, this), \"  \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 1\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }, this);\n    }\n  }); //alert(Board.title);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-header\",\n        style: {\n          overflow: \"initial\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"page-header-image\",\n          style: {\n            backgroundImage: \"url(\" + require(\"assets/img/bg4.jpg\").default + \")\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content-center\",\n          style: {\n            position: \"\",\n            transform: \"\",\n            padding: \"\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Container, {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"board-title\",\n              style: {\n                marginTop: \"-30px\"\n              },\n              children: \"\\uAC8C\\uC2DC\\uD310\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 81\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              style: {\n                marginTop: \"auto\"\n              },\n              children: /*#__PURE__*/_jsxDEV(Input, {\n                placeholder: Board.title,\n                name: \"title\",\n                disabled: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: /*#__PURE__*/_jsxDEV(Input, {\n                placeholder: Board.content,\n                type: \"textarea\",\n                name: \"content\",\n                disabled: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              block: true,\n              className: \"btn-view\",\n              href: \"../../board-page\",\n              size: \"5px\",\n              children: \"\\uBAA9\\uB85D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              className: \"btn-delete\",\n              onClick: f4,\n              size: \"5px\",\n              children: \"\\uC0AD\\uC81C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              className: \"btn-update\",\n              onClick: f3,\n              size: \"5px\",\n              children: \"\\uC218\\uC815\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              className: \"board-reply\",\n              type: \"textarea\",\n              placeholder: \"\\uB313\\uAE00 \\uC785\\uB825\\uD574\\uBD10\\uC694..\",\n              name: \"answer\",\n              maxlength: \"30\",\n              onChange: ({\n                target: {\n                  value\n                }\n              }) => setComment({\n                content: value,\n                comment_date: Comment.comment_date,\n                board_id: Board.id,\n                comment_id: \"test\",\n                board_no: Board.idx,\n                views: \"0\"\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-reply\",\n              size: \"5px\",\n              onClick: f5,\n              children: \"\\uB313\\uAE00\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this), commentarray, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DarkFooter, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(BoardRead, \"oWrm5twQFTtRKLaGcvqRDSi1whM=\", false, function () {\n  return [useParams];\n});\n\n_c = BoardRead;\nexport default BoardRead;\n\nvar _c;\n\n$RefreshReg$(_c, \"BoardRead\");","map":{"version":3,"sources":["C:/frontend16/src/views/examples/BoardRead.js"],"names":["React","useState","axios","Container","Button","Input","moment","DarkFooter","AuthenticationService","useParams","BoardRead","setupAxiosInterceptors","num","nowTime","format","Board","setBoard","idx","title","content","board_date","id","views","Commentlist","setCommentList","Comment","setComment","comment_date","board_id","comment_id","board_no","useEffect","get","then","response","data","catch","error","document","body","classList","add","documentElement","remove","window","scrollTo","scrollTop","cleanup","f3","location","href","f4","delete","f5","post","deletecomment","number","commentarray","map","length","color","overflow","backgroundImage","require","default","position","transform","padding","marginTop","target","value"],"mappings":"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","sourcesContent":["import React ,{useState}from \"react\"\r\nimport axios from \"axios\";\r\nimport {Container, Button, Input } from \"reactstrap\";\r\nimport moment from 'moment';\r\nimport DarkFooter from \"components/Footers/DarkFooter.js\";\r\n// 안써도 자동으로 한국 시간을 불러온다. 명확하게 하기 위해 import\r\nimport 'moment/locale/ko';\r\nimport AuthenticationService from \"../../jwtlogin/AuthenticationService.js\";\r\nimport { useParams } from \"react-router-dom\";\r\nfunction BoardRead() {\r\n  const setupAxiosInterceptors=AuthenticationService.setupAxiosInterceptors();\r\n    const {num} = useParams(); \r\n    const nowTime = moment().format('YYYY-MM-DD HH:mm:ss'); \r\n    const [Board, setBoard] = useState({\r\n    idx: \"\",\r\n    title: \"\",\r\n    content: \"\",\r\n    board_date: \"\",\r\n    id: \"\",\r\n    views: \"\"\r\n}\r\n     );\r\n     const[Commentlist,setCommentList] = useState([])\r\n     const [Comment, setComment] = useState({\r\n      title: \"\",\r\n      content: \"\",\r\n      comment_date: nowTime,\r\n      board_id: Board.id,\r\n      comment_id: \"test\",\r\n      board_no: Board.idx,\r\n      views: \"0\"\r\n  }\r\n       );\r\n     //let pageHeader = React.createRef();\r\n\r\n\r\n     React.useEffect(() => {\r\n        axios.get('/api/board/'+num)\r\n        .then(function (response) {\r\n            setBoard(response.data);\r\n      \r\n        })\r\n        .catch(function (error) {\r\n          //console.log(error);\r\n        });\r\n        axios.get('/api/getCommentById/'+num)\r\n        .then(function (response) {\r\n          //console.log(response.data)\r\n          setCommentList(response.data)\r\n          //console.log(Commentlist)\r\n        })\r\n        .catch(function (error) {\r\n          //console.log(error);\r\n        });\r\n   \r\n        document.body.classList.add(\"boardread/:num\");\r\n        document.body.classList.add(\"sidebar-collapse\");\r\n        document.documentElement.classList.remove(\"nav-open\");\r\n        window.scrollTo(0, 0);\r\n        document.body.scrollTop = 0;\r\n        return function cleanup() {\r\n        document.body.classList.remove(\"boardread/:num\");\r\n        document.body.classList.remove(\"sidebar-collapse\");\r\n        };\r\n      }, []);\r\n\r\n     const f3 = async () => {\r\n        \r\n        window.location.href ='../boardinput/'+Board.idx\r\n      }\r\n      const f4 = async () => {\r\n        //console.log(Board);\r\n        //삭제/board/{no}\r\n        axios.delete('/api/board/'+num)\r\n        .then(function (response) {\r\n          window.location.href ='../board-page'\r\n        })\r\n        .catch(function (error) {\r\n          //console.log(error);\r\n        });\r\n   \r\n      }\r\n      const f5 = async () => {\r\n        //console.log(Board); //createcomment\r\n        axios.post('/api/board/comment',Comment)\r\n        .then(function (response) {\r\n          window.location.href ='../../boardread/'+Board.idx\r\n        })\r\n        .catch(function (error) {\r\n          //console.log(error);\r\n        });\r\n   \r\n      }\r\n      function deletecomment(number){\r\n        axios.delete('/api/board/comment/'+number)\r\n        .then(function (response) {\r\n          window.location.href ='../../boardread/'+Board.idx\r\n        })\r\n        .catch(function (error) {\r\n          //console.log(error);\r\n        });\r\n      }\r\n\r\n      const commentarray= Commentlist.map((data)=>{\r\nif(Commentlist.length != '0'){\r\n        return (\r\n          <div class=\"list-reply\" >\r\n<h5 style={{color:\"white\"}}>{data.comment_id} &nbsp;  &nbsp;{data.content}  &nbsp;  &nbsp; {data.comment_date} <button class=\"del-reply\" onClick={()=> deletecomment(data.idx)}>삭제</button>  </h5>      \r\n\r\n          </div>\r\n\r\n)\r\n        \r\n      }})\r\n      \r\n\r\n\r\n      //alert(Board.title);\r\n    return(\r\n    <><div>\r\n        <div className=\"page-header\" style={{ overflow: \"initial\" }}>\r\n          <div\r\n            className=\"page-header-image\"\r\n            style={{\r\n              backgroundImage: \"url(\" + require(\"assets/img/bg4.jpg\").default + \")\",\r\n            }}\r\n          ></div>\r\n          <div className=\"content-center\" style={{ position: \"\", transform: \"\", padding: \"\" }}>\r\n            <Container>\r\n              <h1 className=\"board-title\"style={{ marginTop: \"-30px\" }}>게시판</h1><br />\r\n              <h2 style={{ marginTop: \"auto\" }}><Input\r\n                placeholder={Board.title}\r\n                name=\"title\" disabled\r\n              ></Input></h2>\r\n\r\n              <h2><Input\r\n\r\n                placeholder={Board.content}\r\n                type=\"textarea\"\r\n                name=\"content\" disabled /></h2>\r\n              <Button\r\n                block\r\n                className=\"btn-view\"\r\n                href=\"../../board-page\"\r\n                size=\"5px\"\r\n              >\r\n                목록\r\n              </Button>\r\n              <Button\r\n                className=\"btn-delete\"\r\n                onClick={f4}\r\n                size=\"5px\"\r\n              >\r\n                삭제\r\n              </Button>\r\n              <Button\r\n                className=\"btn-update\"\r\n                onClick={f3}\r\n                size=\"5px\"\r\n              >\r\n                수정\r\n              </Button>\r\n              <br /><br /><br />\r\n              <textarea className=\"board-reply\"\r\n                type=\"textarea\"\r\n                placeholder=\"댓글 입력해봐요..\"\r\n                name=\"answer\"\r\n                maxlength=\"30\"\r\n                onChange={({ target: { value } }) => setComment({\r\n                  content: value,\r\n                  comment_date: Comment.comment_date,\r\n                  board_id: Board.id,\r\n                  comment_id: \"test\",\r\n                  board_no: Board.idx,\r\n                  views: \"0\"\r\n                })} /><br />\r\n              <button className=\"btn-reply\" size=\"5px\" onClick={f5}>댓글</button>\r\n            </Container>\r\n            <br />\r\n            <br />\r\n            {commentarray}\r\n            <br /><br />\r\n          </div>\r\n\r\n        </div>\r\n\r\n      </div><DarkFooter /></>\r\n    )\r\n}\r\n\r\nexport default BoardRead;"]},"metadata":{},"sourceType":"module"}